# データベース README

このフォルダには、データベーススキーマとサンプルデータのSQLファイルが含まれています。

## ファイル一覧

### スキーマファイル

- **`schema-multi-shop.sql`** - 複数店舗対応スキーマ（推奨）
- **`schema-multi-shop-owner.sql`** - 複数店舗オーナー対応の追加スキーマ（`shop_users`テーブル追加）

### サンプルデータ

- **`sample-data.sql`** - 最新のサンプルデータ（**推奨**）
  - ユーザー: 5人
  - 店舗: 8店舗
  - メニュー: 100点（店舗を横断）

### 追加データ

- **`add-dummy-staff.sql`** - ダミースタッフ追加スクリプト
  - 各店舗に2-3人のスタッフを追加
  - 合計19人のスタッフを追加
  - パスワード: `password123`

## セットアップ手順

### 1. 新規セットアップ（推奨）

```sql
-- 1. 複数店舗対応スキーマを実行
SOURCE schema-multi-shop.sql;

-- 2. 複数店舗オーナー対応スキーマを実行（オプション）
SOURCE schema-multi-shop-owner.sql;

-- 3. サンプルデータを挿入
SOURCE sample-data.sql;

-- 4. ダミースタッフを追加（オプション）
SOURCE add-dummy-staff.sql;
```

### 2. 既存データベースからの移行

既存のデータベースがある場合は、`schema-multi-shop.sql`を実行してから、必要に応じて`schema-multi-shop-owner.sql`と`sample-data.sql`を実行してください。

## サンプルデータの内容

### ユーザー（5人）

1. **owner_multi** - 複数店舗オーナー（shop001, shop002）
2. **owner_sakura** - 和食店オーナー（shop003）
3. **manager_beef** - バーガーショップマネージャー（shop004）
4. **staff_mamma** - パスタハウススタッフ（shop005）
5. **owner_premium** - 複数店舗オーナー（shop006, shop007, shop008）

**全ユーザーのパスワード**: `password123`

### ダミースタッフ（19人）

`add-dummy-staff.sql`を実行すると、各店舗に以下のスタッフが追加されます：

- **shop001**: 3人（佐々木 健太、高橋 美咲、中村 翔太）
- **shop002**: 2人（渡辺 さくら、伊藤 大輔）
- **shop003**: 3人（山本 優香、松本 健一、井上 麻衣）
- **shop004**: 2人（木村 拓也、林 由美）
- **shop005**: 2人（斎藤 真一、加藤 愛美）
- **shop006**: 3人（吉田 雄一、後藤 美穂、近藤 翔）
- **shop007**: 2人（長谷川 誠、橋本 彩）
- **shop008**: 2人（石川 美咲、前田 健太）

**全スタッフのパスワード**: `password123`

### 店舗（8店舗）

1. **shop001**: レストラン イタリアン（15メニュー）
2. **shop002**: カフェ モカ（12メニュー）
3. **shop003**: 和食 さくら（13メニュー）
4. **shop004**: バーガーショップ ビーフ（13メニュー）
5. **shop005**: パスタハウス マンマ（12メニュー）
6. **shop006**: ステーキハウス プレミアム（13メニュー）
7. **shop007**: ラーメン屋 こだわり（11メニュー）
8. **shop008**: スイーツカフェ スイート（11メニュー）

**合計**: 100メニュー

### メニューの内訳

- **フード**: 約70点
- **ドリンク**: 約20点
- **デザート**: 約10点

## 注意事項

- サンプルデータを実行する前に、既存のデータをバックアップしてください
- 本番環境では、必ずパスワードを変更してください
- サンプルデータは開発・テスト環境でのみ使用してください

## 関連ドキュメント

- [管理画面アカウント情報](../ACCOUNT_INFO.md)
- [複数店舗オーナー機能](../MULTI_SHOP_OWNER.md)
- [APIサーバー README](../api-server/README.md)
